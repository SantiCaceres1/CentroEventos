@page "/MisActividades"
@using CentroEventos.Aplicacion.CasosDeUso.EventoDeportivoU
@inject ListarEventoDeportivoUseCase ListarEventoDeportivoUseCase
@inject UsuarioSesion Sesion
@inject NavigationManager Navigation

<h3>Lista de Actividades</h3>
@if (!Sesion.EstaLogueado() || !EsAdmin())
{
    <p class="text-danger">Acceso no autorizado.</p>
    @code {
        protected override void OnInitialized() => Navigation.NavigateTo("/");
    }
}
else
{
    <div class="mis-actividades">
        <h4>Bienvenido, @Sesion.Usuario.Nombre</h4>
        <p>Aqu√≠ puedes ver y gestionar tus actividades.</p>

        <ul>
            @foreach (var actividad in ListarEventoDeportivoUseCase.Ejecutar())
            {
                <li>@actividad.Nombre - @actividad.FechaInicio.ToShortDateString()</li>
            }
        </ul>
    </div>
}
@code {
    private bool EsAdmin() => Sesion.UsuarioEsAdmin;
}

